(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{167:function(e,t,c){},189:function(e,t,c){},193:function(e,t,c){},194:function(e,t,c){"use strict";c.r(t),c.d(t,"URL",(function(){return Z}));var n=c(4),a=(c(163),c(0)),r=c(41),i=c.n(r),s=(c(167),c(43)),o=c(11),l=c(19),j=c.n(l),u=c(33),d=c(38),h=c(215),b=c(34),p=c.n(b),O=(c(189),c(212)),x=c(148),f=c(195);var m="ADD_CITY",g="DELETE_CITY",y="UPDATE_CITY",v="UPDATE_ALL_CITY",w=function(e){return function(e){localStorage.getItem("cities")||localStorage.setItem("cities","[]");var t=JSON.parse(localStorage.getItem("cities"));t.push(e),localStorage.setItem("cities",JSON.stringify(t))}(e),{type:m,payload:e}},S=function(e){return function(e){var t=JSON.parse(localStorage.getItem("cities")).filter((function(t){return t.id!==e}));localStorage.setItem("cities",JSON.stringify(t))}(e),{type:g,payload:e}},k=function(e){return function(e){var t=JSON.parse(localStorage.getItem("cities")).map((function(t){return t.id===e.id?e:t}));localStorage.setItem("cities",JSON.stringify(t))}(e),{type:y,payload:e}},C=function(e){return{type:v,payload:e}},I=function(e){var t=e.city,c=Object(d.b)(),a=function(){var e=Object(u.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(Z).concat(t.name));case 3:n=e.sent,c(k(n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(O.a.Group,{children:Object(n.jsxs)(O.a,{children:[Object(n.jsxs)(O.a.Content,{as:s.b,to:"/weather?name=".concat(t.name),children:[Object(n.jsx)("div",{className:"title",children:Object(n.jsxs)(O.a.Content,{children:[Math.ceil(t.main.temp),"\xb0"]})}),Object(n.jsx)(x.a,{floated:"right",size:"tiny",src:"https://openweathermap.org/img/wn/".concat(t.weather[0].icon,".png")}),Object(n.jsx)("div",{className:"head",children:Object(n.jsx)(O.a.Header,{children:t.name})}),Object(n.jsxs)(O.a.Meta,{className:"feels__like",children:["Feels like: ",Math.ceil(t.main.feels_like),"\xb0"]})]}),Object(n.jsx)(O.a.Content,{extra:!0,children:Object(n.jsxs)("div",{className:"ui two buttons",children:[Object(n.jsx)(f.a,{basic:!0,color:"green",onClick:a,children:"Update"}),Object(n.jsx)(f.a,{basic:!0,color:"red",onClick:function(){c(S(t.id))},children:"Delete"})]})})]})})})},N=c(114),D=c(207),_=c(210),T=c(208),L=function(){var e=Object(a.useState)(""),t=Object(N.a)(e,2),c=t[0],r=t[1],i=Object(d.c)((function(e){return e.weather.city})),s=Object(d.b)(),o=function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(URL).concat(c));case 3:t=e.sent,0===i.filter((function(e){return e.id===t.data.id})).length&&s(w(t.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{style:{marginBottom:"100px"},children:Object(n.jsx)(D.a,{text:!0,children:Object(n.jsx)(_.a,{onSubmit:o,children:Object(n.jsx)(_.a.Field,{required:!0,children:Object(n.jsx)(T.a,{placeholder:"Add the city whose weather you want to track",onChange:function(e){return r(e.target.value)}})})})})})};function J(){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(j.a.mark((function e(){var t,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===localStorage.length&&localStorage.setItem("cities","[]"),t=JSON.parse(localStorage.getItem("cities")),c=t.map((function(e){return e.id})),t){e.next=5;break}return e.abrupt("return",[]);case 5:if(0!==c.length){e.next=7;break}return e.abrupt("return",[]);case 7:return e.next=9,p.a.get("/group?appid=5bce41e220e023ec6710ea4f4bc73c95&units=metric&id=".concat(c));case 9:return n=e.sent,e.abrupt("return",n.data.list);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(){var e=Object(d.c)((function(e){return e.weather.city})),t=Object(d.b)();return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=C,e.next=4,J();case 4:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{style:{textAlign:"center",marginBottom:"50px"},children:"Weather"}),Object(n.jsx)(L,{}),Object(n.jsx)(h.a,{container:!0,columns:3,children:0!==e.length?e.map((function(e){return Object(n.jsx)(h.a.Column,{children:Object(n.jsx)(I,{city:e})},e.id)})):Object(n.jsx)("h2",{style:{margin:"0 auto"},children:"City weather not found"})})]})},A=c(213),E=c(209),U=(c(193),function(e){var t=e.name,c=Object(a.useState)(),r=Object(N.a)(c,2),i=r[0],s=r[1],l=Object(o.g)();return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(Z).concat(t));case 2:c=e.sent,s(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(n.jsx)(D.a,{children:i?Object(n.jsx)("div",{className:"card__container",children:Object(n.jsxs)(O.a,{fluid:!0,centered:!0,children:[Object(n.jsxs)(O.a.Content,{children:[Object(n.jsx)("div",{className:"temp",children:Object(n.jsxs)(O.a.Description,{children:[Math.ceil(i.main.temp),"\xb0"]})}),Object(n.jsx)(x.a,{src:"https://openweathermap.org/img/wn/".concat(i.weather[0].icon,".png"),size:"tiny",floated:"right"}),Object(n.jsx)("div",{className:"header",children:Object(n.jsx)(O.a.Header,{children:i.name})}),Object(n.jsxs)("div",{className:"description__info",children:[Object(n.jsxs)(O.a.Description,{children:["Today ",i.weather[0].description.toLowerCase()]}),Object(n.jsxs)(O.a.Description,{children:["Feels like: ",Math.ceil(i.main.feels_like),"\xb0"]}),Object(n.jsxs)(O.a.Description,{children:["Wind speed: ",Math.ceil(i.wind.speed)," meter/sec"]}),Object(n.jsxs)(O.a.Description,{children:["Humidity: ",i.main.humidity,"%"]}),Object(n.jsxs)(O.a.Description,{children:["Temp max: ",Math.ceil(i.main.temp_max),"\xb0"]}),Object(n.jsxs)(O.a.Description,{children:["Temp min: ",Math.ceil(i.main.temp_min),"\xb0"]})]})]}),Object(n.jsx)(O.a.Content,{textAlign:"center",extra:!0,children:Object(n.jsx)(f.a,{basic:!0,fluid:!0,color:"grey",content:" Back",onClick:function(){l.push("/")}})})]})}):Object(n.jsx)(A.a,{active:!0,inverted:!0,children:Object(n.jsx)(E.a,{inverted:!0,children:"Loading"})})})});var B=function(){var e=new URLSearchParams(Object(o.h)().search);return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{style:{textAlign:"center",margin:"50px 0 40px 0"},children:"Weather"}),Object(n.jsx)(U,{name:e.get("name")})]})},P=c(211),R=function(){return Object(n.jsx)(D.a,{children:Object(n.jsx)(P.a,{color:"teal",children:Object(n.jsx)(s.b,{to:"/react-weather",children:Object(n.jsx)(P.a.Item,{children:Object(n.jsx)(x.a,{src:"/build/logo.png",alt:"logo",size:"mini"})})})})})};var W=function(){return Object(n.jsxs)(s.a,{children:[Object(n.jsx)(R,{}),Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{exact:!0,component:M,path:"/react-weather"}),Object(n.jsx)(o.b,{exact:!0,component:B,path:"/weather"}),Object(n.jsx)(o.a,{from:"*",to:"/react-weather"})]})]})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,216)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))},z=c(44),H=c(147),q=c(64),G={city:[]};if(0!==localStorage.length){var K=JSON.parse(localStorage.getItem("cities"));G.city=K}var Q=Object(z.combineReducers)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(q.a)(Object(q.a)({},e),{},{city:[].concat(Object(H.a)(e.city),[t.payload])});case g:return{city:e.city.filter((function(e){return e.id!==t.payload}))};case y:return Object(q.a)(Object(q.a)({},e),{},{city:e.city.map((function(e){return e.id!==t.payload.id?e:t.payload}))});case v:return Object(q.a)(Object(q.a)({},e),{},{city:t.payload});default:return e}}}),V=c(146),X=Object(z.createStore)(Q,Object(V.composeWithDevTools)(Object(z.applyMiddleware)())),Z="/weather?appid=5bce41e220e023ec6710ea4f4bc73c95&units=metric&q=";p.a.defaults.baseURL="https://api.openweathermap.org/data/2.5/",i.a.render(Object(n.jsx)(d.a,{store:X,children:Object(n.jsx)(W,{})}),document.getElementById("root")),Y()}},[[194,1,2]]]);
//# sourceMappingURL=main.288e93d2.chunk.js.map